---
import Layout from '../layouts/Layout.astro';
import BentoCard from '../components/BentoCard.astro';
import WideCard from '../components/WideCard.astro';
import TextCard from '../components/TextCard.astro';
import TallCard from '../components/TallCard.astro';
import ContactCard from '../components/ContactCard.astro';
import AboutCard from '../components/AboutCard.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
posts.sort((a, b) => new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime());

// We'll use a more explicit layout for the first 5 cards
// The rest will follow a pattern

---

<Layout title="Bento Blog">
  <!-- First card is first blog post (wide) -->
  {posts.length > 0 && (
    <WideCard
      title={posts[0].data.title}
      description={posts[0].data.description}
      image={posts[0].data.image}
      slug={posts[0].slug}
    />
  )}
  
  <!-- Third card is about card (tall) -->
  <AboutCard />
  
  <!-- Fourth card is second blog post (wide) -->
  {posts.length > 1 && (
    <WideCard
      title={posts[1].data.title}
      description={posts[1].data.description}
      image={posts[1].data.image}
      slug={posts[1].slug}
    />
  )}
  
  <!-- Fifth card is third blog post (wide) -->
  {posts.length > 2 && (
    <WideCard
      title={posts[2].data.title}
      description={posts[2].data.description}
      image={posts[2].data.image}
      slug={posts[2].slug}
    />
  )}
  
  <!-- Sixth card is fourth blog post (wide) -->
  {posts.length > 3 && (
    <WideCard
      title={posts[3].data.title}
      description={posts[3].data.description}
      image={posts[3].data.image}
      slug={posts[3].slug}
    />
  )}
  
  {posts.length > 4 && (
    <WideCard
      title={posts[4].data.title}
      description={posts[4].data.description}
      image={posts[4].data.image}
      slug={posts[4].slug}
    />
  )}

</Layout>